@using ITFCodeWA.ClientMudBlazor.Components.Buttons.Operations
@using ITFCodeWA.ClientMudBlazor.Components.EntityForms.References.Base
@using ITFCodeWA.ClientMudBlazor.Components.OnMudBased.Autocomplete
@using ITFCodeWA.ClientMudBlazor.Services.Api.References.Interfaces
@using ITFCodeWA.Models.References
@using ITFCodeWA.ClientMudBlazor.Components.EntityForms.Base;

@inherits ReferenceFormView<FoodModel, IFoodService>

<EntityDialogForm TModel="FoodModel" TKey="int" TApiService="IFoodService" ModelId="@ModelId" Model="@Model">
    <Fields>
        <MudGrid>
            <MudItem xs="12">
                <MudTextField @bind-Value="Model.Name"
                              T="string" Label="Наименование"
                              Required="true" RequiredError="Укажите наименование" />
            </MudItem>
            <MudItem xs="6">
                <MudTextField @bind-Value="Model.Calories"
                              Label="Ккал"
                              Format="F1"
                              Required="true" RequiredError="Укажите количество ккал" />
            </MudItem>
            <MudItem xs="6">
                <FoodGroupAutoComplete @bind-Value="_selectedFoodGroup"/>
            </MudItem>
            <MudItem xs="4">
                <MudTextField @bind-Value="Model.Proteins"
                              Label="Белки"
                              Format="F1"
                              Required="true" RequiredError="Укажите количество белка" />
            </MudItem>
            <MudItem xs="4">
                <MudTextField @bind-Value="Model.Fats"
                              Label="Жиры"
                              Format="F1"
                              Required="true" RequiredError="Укажите количество жиров" />
            </MudItem>
            <MudItem xs="4">
                <MudTextField @bind-Value="Model.Carbohydrates"
                              Label="Углеводы"
                              Format="F1"
                              Required="true" RequiredError="Укажите количество углеводов" />
            </MudItem>
            <MudItem xs="12">
                <MudTextField @bind-Value="Model.Comment"
                              T="string" Label="Комментарий"
                              Required="false" RequiredError="Укажите комментарий" />
            </MudItem>
        </MudGrid>

    </Fields>
</EntityDialogForm>

@code {

    protected FoodGroupModel _selectedFoodGroup = new();


}